<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Extra meta tags -->
    <meta name="description" content="generate music with an variational autoencoder">
    <meta name="author" content="jehosafet">
    <link rel="icon" href="static/favicon.ico">
    <title>Variational autoencoder for music</title>

    <!-- CSS -->
    <link rel="stylesheet" href="static/css/bootstrap.min.css">
    <link href="static/css/ie10-viewport-bug-workaround.css" rel="stylesheet">
    <link rel="stylesheet" href="static/css/styles.css">
    <link rel="stylesheet" href="static/css/font-awesome-4.7.0/css/font-awesome.min.css">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <!-- Javascript -->
    <script src="static/js/lib/jquery.min.js"></script>
    <script src="static/js/lib/bootstrap.min.js"></script>
    <script src="static/js/lib/p5.js"></script>
    <script src="static/js/lib/p5.dom.js"></script>
    <script src="static/js/lib/p5.sound.min.js"></script>
    <script src="static/js/lib/keras.js"></script>
    <script src="static/js/app/sketch.js"></script>
  </head>
  <body>
    <nav class="navbar navbar-default">
      <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="http://www.jehosafet.com">Jehosafet</a>
          <p class="navbar-text">Neural synth</p>
        </div>
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="http://www.github.com/mobeets/neural-music-pad"><i class="fa fa-github" aria-hidden="true"></i> View on Github</a></li>
          </ul>
        </div><!-- /.navbar-collapse -->
      </div><!-- /.container-fluid -->
    </nav>
    <!-- <nav class="navbar navbar-toggleable-md navbar-light bg-faded fixed-top">
      <a class="navbar-brand" href="#">Jehosafet</a>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="#"><span class="glyphicon glyphicon-user"></span> View on Github</a></li>
      </ul>
    </nav> -->
    <div class="container">
      <div class="main-container">
        <h1>Neural synth</h1>
        <p class="lead">Make music with a variational autoencoder.</p>
        <div class="row">
          <div class="col-md-2"></div>
          <p class="col-md-8 text-justify">A variational autoencoder (<a href="https://arxiv.org/abs/1606.05908"><q>VAE</q></a>) is a neural network that learns to generate data from a low-dimensional latent space. Below, the locations on the pad controller are mapped to values in the latent space. Clicking on the pad tells the autoencoder to output the notes corresponding to that location. Because the output of the autoencoder is probabilistic, you won't get exactly the same notes every time.</p>
        </div>
        <hr>
        <!-- <p class="text-center">Notes decoded: <span id="model-output"></span></p> -->
        <div id="canvas-container"></div>
        <div class="row">
          <div class="col-md-4"></div>
          <div class="btn-toolbar col-md-6 text-center" role="toolbar" aria-label="...">
            <div class="btn-group" role="group" aria-label="...">
              <button id="drums-toggle" type="button" class="inst-toggle btn btn-primary" data-toggle="button" aria-pressed="false" autocomplete="off"><i class="fa fa-bolt" aria-hidden="true"></i> Drums</button>
            </div>
            <div class="btn-group" role="group" aria-label="...">
              <button id="bass-toggle" type="button" class="inst-toggle btn btn-primary" data-toggle="button" aria-pressed="false" autocomplete="off"><i class="fa fa-bolt" aria-hidden="true"></i> Bass</button>
            </div>
            <!-- <div class="btn-group" role="group" aria-label="...">
              <button class="btn btn-default" type="button"><i class="fa fa-refresh" aria-hidden="true"></i> Reset state</button>
            </div> -->
            <div class="btn-group" role="group" aria-label="...">
              <button id="notes" class="btn btn-default" type="button"><i class="fa fa-music" aria-hidden="true"></i>: <span id="model-output"></span></button>
            </div>
          </div>
        </div>
      </div>
      <hr>
      <div class="row">
        <div class="col-md-2"></div>
        <p class="col-md-8 text-justify">The network was trained on 382 of Bach's four-part chorales transposed to Cmaj or Cmin (<a href="http://www-etud.iro.umontreal.ca/~boulanni/icml2012">source</a>). Code and more information is available <a href="https://github.com/mobeets/vrnn">here</a>.</p>
      </div>
    </div>
  </body>
</html>
